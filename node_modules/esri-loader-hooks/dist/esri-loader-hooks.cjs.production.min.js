"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),n=require("esri-loader");function r(){return(r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function t(t,u){var o=e.useRef(null),i=e.useState(null),c=i[0],s=i[1],a=e.useRef({map:t,options:u});return e.useEffect((function(){var e,t=!1;return function(){try{var u=a.current;Promise.resolve(function(e,t){return function(e){return"string"==typeof e||!!e.baseMap||!!e.operationalLayers}(e)?function(e,t){return void 0===t&&(t={}),n.loadModules(t.isScene?["esri/views/SceneView","esri/WebScene"]:["esri/views/MapView","esri/WebMap"]).then((function(n){var u=n[0],o=n[1],i="string"==typeof e?new o({portalItem:{id:e}}):o.fromJSON(e);return new u(r({},t.view,{map:i}))}))}(e,t):function(e,t){return void 0===t&&(t={}),n.loadModules(["esri/Map","esri/views/"+(t.isScene?"Scene":"Map")+"View"]).then((function(n){var u=n[1],o=new(0,n[0])(r({},e));return new u(r({},t.view,{map:o}))}))}(e,t)}(u.map,u.options)).then((function(n){e=n,t||(e.container=o.current,s(e))}))}catch(e){return Promise.reject(e)}}(),function(){t=!0,function(e){e&&(e=e.container=null)}(e)}}),[]),[o,c]}function u(r,t){e.useEffect((function(){var e;if(r&&t)return n.loadModules(["esri/Graphic"]).then((function(n){var u=n[0];e=t.map((function(e){return new u(e)})),r.graphics.addMany(e)})),function(){r&&r.graphics.removeMany(e)}}),[r,t])}function o(n,r,t){e.useEffect((function(){if(n){var e=r.map((function(e){return n.on(e,t)}));return function(){e.forEach((function(e){e.remove()}))}}}),[n,r,t])}function i(n,r,t){e.useEffect((function(){if(n){var e=r.map((function(e){return n.watch(e,t)}));return function(){e.forEach((function(e){e.remove()}))}}}),[n,r,t])}exports.useEvent=function(e,n,r){o(e,[n],r)},exports.useEvents=o,exports.useGraphic=function(e,n){return u(e,[n])},exports.useGraphics=u,exports.useMap=function(e,n){return t(e,n)},exports.useScene=function(e,n){return t(e,r({},n,{isScene:!0}))},exports.useWatch=function(e,n,r){i(e,[n],r)},exports.useWatches=i,exports.useWebMap=function(e,n){return t(e,n)},exports.useWebScene=function(e,n){return t(e,r({},n,{isScene:!0}))};
//# sourceMappingURL=esri-loader-hooks.cjs.production.min.js.map
